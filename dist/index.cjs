var c=Object.defineProperty;var x=e=>c(e,"__esModule",{value:!0});var m=(e,n)=>{x(e);for(var t in n)c(e,t,{get:n[t],enumerable:!0})};m(exports,{ERROR_INVALID_ARGUMENT:()=>R,ERROR_STRING_IS_NOT_HEADER:()=>p,ERROR_UNSATISFIABLE_RESULT:()=>f,HeaderRanges:()=>l,parseRange:()=>A});var R=-3,p=-2,f=-1;function b(e){let n=e.map(I).sort(N),t=0;for(let i=1;i<n.length;i++){let a=n[i],r=n[t];a.start>r.end+1?n[++t]=a:a.end>r.end&&(r.end=a.end,r.index=Math.min(r.index,a.index))}n.length=t+1;let o=n.sort(y).map(h);return o.type=e.type,o}function I(e,n){return{end:e.end,index:n,start:e.start}}function h(e){return{end:e.end,start:e.start}}function y(e,n){return e.index-n.index}function N(e,n){return e.start-n.start}var l=class extends Array{constructor(){super(...arguments);this.type=""}toArray(){let n=Array.from(this);return n.type=this.type,n}};function A(e,n,t){let o=!0;if(t&&"throwError"in t&&t.throwError===!1&&(o=!1),!Number.isInteger(e)){if(o)throw new TypeError("Argument 'size' must be an integer.");return R}if(typeof n!="string"){if(o)throw new TypeError("Argument 'header' must be a string.");return R}let i=n.indexOf("=");if(i===-1)return p;let a=n.slice(i+1).split(","),r=new l;r.type=n.slice(0,i);for(let d=0;d<a.length;d++){let g=a[d].split("-"),u=Number.parseInt(g[0],10),s=Number.parseInt(g[1],10);Number.isNaN(u)?(u=e-s,s=e-1):Number.isNaN(s)&&(s=e-1),s>e-1&&(s=e-1),!(Number.isNaN(u)||Number.isNaN(s)||u>s||u<0)&&r.push({end:s,start:u})}return r.length<1?f:t&&t.combine?b(r):r}
